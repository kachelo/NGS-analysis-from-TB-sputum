< config.mk
# Load global variables if any
#
# Módule to keep VSQR PASS variants
# Avoid using not properly called variants
results/%PASS.vcf:	data/%hard_filtered.vcf
	mkdir -p "$(dirname "$target")"
	bcftools view \
		-f "PASS" \
		$prereq \
	> "$target"'.build' \
	&& mv "$target"'.build' "$target"

# Quality Control
# ===============
#
# Here you should describe why you choose this qc.
#
qc:V:
	cd qc
	bin/targets | xargs mk

# Unit tests
# ==========
#
# Verify everything works correctly.
#
test	tests:QV:
	cd test
	rm -f tests.log
	./run_tests \
	|| less tests.log

# Clean up generated files
#
# **Cuidado: puede ocasionar pérdida de datos.**
# (todos deberían poderse regenerar, pero asegúrate de que ya no se usan).
#
clean:V:
	bin/targets | xargs rm -f
