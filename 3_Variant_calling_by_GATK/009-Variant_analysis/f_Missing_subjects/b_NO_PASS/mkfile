< config.mk

# Módule to keep VSQR PASS variants
# Extract NO PASS variants
results/%NO-PASS.vcf:      data/%hard_filtered.vcf
        mkdir -p "$(dirname "$target")"
        bcftools view \
            -f "hard_filter" \
            $prereq \
        > "$target"'.build' \
        && mv "$target"'.build' "$target"

# Quality Control
# ===============
#
# Here you should describe why you choose this qc.
#
qc:V:
	cd qc
	bin/targets | xargs mk


# Clean up generated files
#
# **Cuidado: puede ocasionar pérdida de datos.**
# (todos deberían poderse regenerar, pero asegúrate de que ya no se usan).
#
clean:V:
	bin/targets | xargs rm -f
